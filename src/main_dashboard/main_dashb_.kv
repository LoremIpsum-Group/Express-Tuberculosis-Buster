#:kivy 2.3.0
#currently not in use
<HoverLabel@Label+HoverBehavior>
    color: (0,0,0,1)
    on_enter: self.color = 0.8, 0.2, 1, 1
    on_leave: self.color = 1, 1, 1, 1

ScreenManager:
    MainMenu:
    ScanImage:
    ViewRecords:
    ManageUsers:

<MainMenu>:
    name: "main_menu"

    BoxLayout:
        id: "nav_bar"
        orientation: "vertical"
        size_hint_x: 0.25 # This makes the BoxLayout take up 25% of its parent's width

        canvas.before:
            Color:
                #rgba: 0.3, 0.4, 0.9, 1  
                rgba: 0, 0, 1, 1  
            Rectangle:
                pos: self.pos
                size: self.size
       # AnchorLayout:
            #anchor_y: 'top'  # This will position the buttons at the top of the BoxLayout
        HoverLabel:
            markup: True
            text: '[b]Scan Image[/b]'
            font_size: 27           
            pos_hint: {'center_x':0.5, "y": 0.5}     
            color: [1,1,1,1]       

            on_touch_down: if self.collide_point(*args[1].pos): root.manager.current = 'scan_img'

        HoverLabel:
            markup: True
            text: '[b]View Patient[/b]'
            font_size: 27   
            pos_hint: {'center_x':0.5, 'y':0.6}
            color: [1,1,1,1]

            on_touch_down: if self.collide_point(*args[1].pos): root.manager.current = 'view_rec'

        HoverLabel:
            markup: True
            text: '[b]Manage \nAccount[/b]'
            font_size: 27   
            pos_hint: {'center_x':0.5, 'y':0.7}
            color: [1,1,1,1]

            on_touch_down: if self.collide_point(*args[1].pos): root.manager.current = 'manage_users'
    
    BoxLayout:
        id: main_area
        orientation: 'vertical'
        size_hint_x: 0.75
        pos_hint: {'x':0.25}
        
        #for debugging purposes, to highlight this area. Removable
        canvas.before:
            Color:
               # rgba: 0, 1, 0, 1  
            Rectangle:
                pos: self.pos
                size: self.size


        Label: 
            text: '[b]Welcome \nto [/b][i]ETBX[/i]!'
            font_size: 90
            color: [0,0,1,1]
            markup: True
            pos_hint: {"x": 0, "center_y": .50}

    
<ScanImage>:
    name: 'scan_img'
    MDLabel:
        text: 'SCANNING IMAGE TEST'
        halign: 'center'
    MDRectangleFlatButton:
        text: 'Back'
        pos_hint: {'center_x':0.5,'center_y':0.1}
        on_press: root.manager.current = 'main_menu'
        
<ViewRecords>:
    name: 'view_rec'
    MDLabel:
        text: 'VIEW RECORDS TEST'
        halign: 'center'
    MDRectangleFlatButton:
        text: 'Back'
        pos_hint: {'center_x':0.5,'center_y':0.1}
        on_press: root.manager.current = 'main_menu'

<ManageUsers>:
    name: 'manage_users'
    MDLabel:
        text: 'MANAGE USERS TEST'
        halign: 'center'
    MDRectangleFlatButton:
        text: 'Back'
        pos_hint: {'center_x':0.5,'center_y':0.1}
        on_press: root.manager.current = 'main_menu'        


