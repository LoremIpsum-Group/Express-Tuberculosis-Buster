#:kivy 2.3.0
#currently not in use
<HoverLabel@Label+HoverBehavior>
    on_enter: self.color = 0.8, 0.2, 1, 1
    on_leave: self.color = 0, 0, 0, 1

<ScanImage>:
    name: "main_menu"

    BoxLayout:
        id: "nav_bar"
        orientation: "vertical"
        size_hint_x: 0.25 # This makes the BoxLayout take up 25% of its parent's width
        pos_hint: {"x": 0, "center_y": .60}
        spacing: 70 

        canvas.before:
            Color:
                #rgba: 0.3, 0.4, 0.9, 1  
                rgba: 0, 0, 1, 1  
            Rectangle:
                size: self.size
       # AnchorLayout:
            #anchor_y: 'top'  # This will position the buttons at the top of the BoxLayout
        Button:
            markup: True
            text: '[b]Upload Image[/b]'
            size_hint_x: 0.5
            size_hint_y: None
            pos_hint: {'x':0.50, "y": 1}     
            color: [0,0,1,1]     
            background_normal: ''
            background_down: ''  
          
            on_touch_down: if self.collide_point(*args[1].pos): root.manager.current = 'scan_img'

        Button:
            markup: True
            text: '[b]View Patient[/b]'
             
            pos_hint: {'x':0.5, 'y':0.6}
            color: [1,1,1,1]
            background_normal: ''
            background_down: ''
            background_color: 0, 0, 1, 1
            size_hint_x: 0.5
            size_hint_y: None           
            on_press:
                root.manager.current = 'view_rec'

        # For testing
        # HoverLabel:
        #     markup: True
        #     text: '[b]Scan Result[/b]'
        #     font_size: 27   
        #     pos_hint: {'x':0.5, 'y':0.7}
        #     color: [1,1,1,1]
        #     size_hint: None, None
        #     on_touch_down: if self.collide_point(*args[1].pos): root.manager.current = 'scan_result'
    
    BoxLayout:
        id: main_area
        orientation: 'vertical'
        size_hint_x: 0.75
        pos_hint: {'x':0.25}

        canvas.before:
            Color: 
                rgba: 1, 1, 1, 1
            Rectangle:
                size: self.size
                pos: self.pos

        BoxLayout:
            orientation: 'vertical'
            padding: 10
            spacing: 10
            

            FloatLayout:
                Image:
                    id: image
                    pos_hint: {'center_x': .5, 'y': -.4}
                    border: [10, 10, 10, 10]
                    size_hint: 0.33, 0.98
                    allow_stretch: True
                    keep_ratio: True
            
            BoxLayout:
                orientation: 'horizontal'
                spacing: 100

                Button:
                    size_hint: .2, .2
                    text: "Upload Image"
                    background_color: 0, 128/255, 1, 1
                    on_press: root.load_image()

                Button:
                    size_hint: .2, .2
                    text: "Process"
                    background_color: 0, 128/255, 1, 1
                    on_press: root.process_image()