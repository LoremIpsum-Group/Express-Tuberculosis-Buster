#:kivy 2.3.0
#:kivy 2.3.0
<ScanResult>:
    name: 'scan_result'
    padding: 10
    spacing : 10
    Image:
        id: res_img
        size_hint: .45, .65
        pos_hint: {'center_x': 0.30,'center_y': 0.47}  
        
    FloatLayout:
        canvas.before:
            # Total Percentage
            Color:
                rgba: 0.8, 0.8, 0.8, 1  # Gray color for total length
            RoundedRectangle:
                pos: self.x + self.width * 0.58, self.y + self.height * 0.63
                size: self.parent.width * 0.35, self.parent.height * 0.03
            
            # Actual Percentage
            Color:
                rgba: 1, 0, 0, 1  # Red color for filled portion
            
            RoundedRectangle:
                pos: self.x + self.width * 0.58, self.y + self.height * 0.63
                size: self.parent.width * 0.35 * 0.89, self.parent.height * 0.03 # 75% filled

   
        Label:
            text: 'Scan Results for Patient: '
            font_size: 24
            color: [0, 0, 1, 1]
            pos_hint: {'center_x': 0.15, 'center_y': 0.9}

        Label:
            text: 'Original X-Ray, & Grad-Cam Results'
            font_size: 22
            color: [0, 0, 0, 1]
            pos_hint: {'center_x': 0.166, 'center_y': 0.85}
    
        # # Test
        # Image:
        #     id: res_img
        #     size_hint: .50, .80
        #     pos_hint: {'center_x': 0.2,'center_y':0.60}  


        # Label: 
        #     id: result_class
        #     text: 'Lorem'
        #     color: [0,0,0,1]
        #     font_size: self.width* .020
        #     pos_hint: {'center_x':0.8,'center_y':0.6}
        # Label: 
        #     id: result_perc
        #     text: 'Ipsum'
        #     color: [0,0,0,1]
        #     font_size: self.width* .020
        #     pos_hint: {'center_x':0.8,'center_y':0.55}   

        Label:
            id: result_classnPerc
            text: "TB Positive: 89%"
            bold: True
            color: [0, 0, 0, 1]
            font_size: 26
            pos_hint: {"center_x": 0.63, "center_y": 0.70}  

        TextInput:
            multiline: True
            text: "Note:\n"
            size_hint: .35, .35
            pos_hint: {'center_x': 0.755, 'center_y': 0.43}


        MDRectangleFlatButton:
            text: 'X-ray'
            size_hint_x: 0.06
            pos_hint: {'center_x': 0.22,'center_y': 0.10}
        
        MDRectangleFlatButton:
            text: 'Pre-Proc'
            size_hint_x: 0.06
            pos_hint: {'center_x': 0.29,'center_y': 0.10}
        
        MDRectangleFlatButton:
            text: 'Grad-Cam'
            size_hint_x: 0.06
            pos_hint: {'center_x': 0.36,'center_y': 0.10}
        
        MDRectangleFlatButton:
            text: 'Back'
            size_hint_x: 0.06
            pos_hint: {'center_x':0.95,'center_y':0.95}
            on_press: root.manager.current = 'scan_img'
        
        MDRectangleFlatButton:
            text: 'Full View'
            size_hint_x: 0.06
            pos_hint: {'center_x': 0.90,'center_y': 0.21}         

    